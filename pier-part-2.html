
    <!DOCTYPE html>
    <html>
        <head>
            <link rel="stylesheet" href="main.css">
            <title>LinuxRocks2000 - A webcomic</title>
        </head>
        <body>
            <script type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>
            <script src="header.js"></script>
            <div id="comic-arena">
                <div id="comic-shrinkwrapper">
                    <p id="comic-name">Pier part 2</p>
                    <p id="comic-date">September 3, 2019</p>
                    <object type="image/svg+xml" width=70% data='https://linuxrocks2000.github.io/webcomic/pier_2.svg'>Sorry, your browser could not load the comic. Please reload, or try again on a different browser.</object>
                    <p id="comic-bottom">Most of the dialogue is separate from the punch line. You have to wait about 3 seconds for the joke to conclude.</p>
                    <div id="navbuttons">
                        <div id="backrow">
                            <a class="navbutton" href="screen-orientation">|&lt;</a>
                            <a class="navbutton" href="pier">&lt;</a>
                        </div>
                        <div id="frontrow">
                            <a class="navbutton" href="pier-part-3">&gt;</a>
                            <a class="navbutton" href="world-domination-part-17">&gt;|</a>
                        </div>
                    </div>
                    <h1 id="comments-text">Comments</h1>
                    <div id="comment-post-stuff">
                        Post a comment:
                        <br>
                        Username: <input type="text" id="username"/>
                        <br>
                        Body: <input type="text" id="body"/>
                        <br>
                        <button id="submit" onclick="post()">Post</button>
                    </div>
                    <ul id="comments-arena">
                    
                    </ul>
                </div>
                <!--Remember, keep the comment stuff inside the comic arena-->
            </div>
            <script type="text/javascript">
                var cap="none";
                if (cap=="top"){
                    var backrow=document.getElementById("frontrow");
                    backrow.parentNode.removeChild(backrow);
                }
                if (cap=="bottom"){
                    var backrow=document.getElementById("backrow");
                    backrow.parentNode.removeChild(backrow);
                }
            </script>
            <script type="text/javascript">
            Parse.initialize("9xjMXioZPbkyAxbJWSG4VpFN2orZ1taMj0kYKVUc", "1OpAAKiJumZGibsjQ5eX8g0EkNAKr3cD35XiX3AJ");
Parse.serverURL = "https://parseapi.back4app.com/";
const Comment = Parse.Object.extend('Comment');
var usernamefield=document.getElementById("username");
var bodyfield=document.getElementById("body");
function post(){
    _post(usernamefield.value,bodyfield.value,54);
}
function _post(user,body,cmnum){
    var myNewObject = new Comment();
    myNewObject.set('user', user);
    myNewObject.set('body', body);
    myNewObject.set('comic', cmnum);

    myNewObject.save().then(
        (result) => {
            document.getElementById("comments-arena").innerHTML="";
            load();
        },
        (error) => {
        if (typeof document !== 'undefined') document.write(`Error while creating Comment: ${JSON.stringify(error)}`);
        console.error('Error while creating Comment: ', error);
        }
    );
}
function load(){
    query = new Parse.Query(Comment);
    query.equalTo("comic", 54);
    query.find().then((results) => {
        arena=document.getElementById("comments-arena");
        results.reverse();
        results.forEach(function(element,index){
            p4=document.createElement("li");
            p=document.createElement("div");
            p4.appendChild(p);
            pp=document.createElement("p");
            ppp=document.createElement("p");
            arena.appendChild(p4);
            p4.className="comment-listitem";
            ppp.innerText=element.get("body");
            p.className="comment_box";
            pp.className="comment_user_text";
            pp.innerText=element.get("user");
            pp.className="username_p";
            p.appendChild(pp);
            p.appendChild(ppp);
        });
    }, (error) => {
        if (typeof document !== 'undefined') document.write(`Error while fetching Comment data. Please reload this page or submit a bug report to my email address (plupy44@gmail.com)}`);
    });
}
load();

            </script>
            <script src="main.js"></script>
        </body>
    </html>
    